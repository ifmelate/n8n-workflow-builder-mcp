{
  "nodeType": "n8n-nodes-base.whatsApp",
  "displayName": "WhatsApp Business Cloud",
  "description": "Access WhatsApp API",
  "version": 1,
  "properties": [
    {
      "name": "operation",
      "displayName": "Operation",
      "type": "options",
      "default": "mediaUpload",
      "description": "The operation to perform on the media",
      "placeholder": "",
      "options": [
        {
          "name": "Upload",
          "value": "mediaUpload"
        },
        {
          "name": "Download",
          "value": "mediaUrlGet"
        },
        {
          "name": "Delete",
          "value": "mediaDelete"
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "media"
          ]
        }
      },
      "visibilityRulesNormalized": [
        {
          "effect": "show",
          "key": "resource",
          "values": [
            "media"
          ]
        }
      ]
    },
    {
      "name": "phoneNumberId",
      "displayName": "Sender Phone Number (or ID)",
      "type": "options",
      "default": "",
      "description": "The ID of the business account's phone number to store the media",
      "placeholder": "",
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "mediaUpload"
          ],
          "resource": [
            "media"
          ]
        }
      },
      "visibilityRulesNormalized": [
        {
          "effect": "show",
          "key": "operation",
          "values": [
            "mediaUpload"
          ]
        },
        {
          "effect": "show",
          "key": "resource",
          "values": [
            "media"
          ]
        }
      ]
    },
    {
      "name": "mediaPropertyName",
      "displayName": "Property Name",
      "type": "string",
      "default": "data",
      "description": "Name of the binary property which contains the data for the file to be uploaded",
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "mediaUpload"
          ],
          "resource": [
            "media"
          ]
        }
      },
      "visibilityRulesNormalized": [
        {
          "effect": "show",
          "key": "operation",
          "values": [
            "mediaUpload"
          ]
        },
        {
          "effect": "show",
          "key": "resource",
          "values": [
            "media"
          ]
        }
      ]
    },
    {
      "name": "mediaGetId",
      "displayName": "Media ID",
      "type": "string",
      "default": "",
      "description": "The ID of the media",
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "mediaUrlGet"
          ],
          "resource": [
            "media"
          ]
        }
      },
      "visibilityRulesNormalized": [
        {
          "effect": "show",
          "key": "operation",
          "values": [
            "mediaUrlGet"
          ]
        },
        {
          "effect": "show",
          "key": "resource",
          "values": [
            "media"
          ]
        }
      ]
    },
    {
      "name": "mediaDeleteId",
      "displayName": "Media ID",
      "type": "string",
      "default": "",
      "description": "The ID of the media",
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "mediaDelete"
          ],
          "resource": [
            "media"
          ]
        }
      },
      "visibilityRulesNormalized": [
        {
          "effect": "show",
          "key": "operation",
          "values": [
            "mediaDelete"
          ]
        },
        {
          "effect": "show",
          "key": "resource",
          "values": [
            "media"
          ]
        }
      ]
    },
    {
      "name": "additionalFields",
      "displayName": "Additional Fields",
      "type": "collection",
      "default": {},
      "description": "The name to use for the file",
      "placeholder": "Add Field",
      "options": [
        {
          "name": "mediaFileName",
          "displayName": "Filename",
          "type": "string",
          "default": "",
          "description": "The name to use for the file"
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "media"
          ],
          "operation": [
            "mediaUpload"
          ]
        }
      },
      "structureTemplate": {
        "mediaFileName": ""
      },
      "visibilityRulesNormalized": [
        {
          "effect": "show",
          "key": "resource",
          "values": [
            "media"
          ]
        },
        {
          "effect": "show",
          "key": "operation",
          "values": [
            "mediaUpload"
          ]
        }
      ]
    },
    {
      "name": "messagingProduct",
      "displayName": "Messaging Product",
      "type": "hidden",
      "default": "whatsapp",
      "displayOptions": {
        "show": {
          "resource": [
            "message"
          ]
        }
      },
      "visibilityRulesNormalized": [
        {
          "effect": "show",
          "key": "resource",
          "values": [
            "message"
          ]
        }
      ]
    },
    {
      "name": "recipientPhoneNumber",
      "displayName": "Recipient's Phone Number",
      "type": "string",
      "default": "",
      "description": "Phone number of the recipient of the message",
      "required": true,
      "displayOptions": {
        "show": {
          "resource": [
            "message"
          ]
        }
      },
      "visibilityRulesNormalized": [
        {
          "effect": "show",
          "key": "resource",
          "values": [
            "message"
          ]
        }
      ]
    },
    {
      "name": "messageType",
      "displayName": "MessageType",
      "type": "options",
      "default": "text",
      "description": "The type of the message",
      "placeholder": "",
      "options": [
        {
          "name": "Audio",
          "value": "audio"
        },
        {
          "name": "Contacts",
          "value": "contacts"
        },
        {
          "name": "Document",
          "value": "document"
        },
        {
          "name": "Image",
          "value": "image"
        },
        {
          "name": "Location",
          "value": "location"
        },
        {
          "name": "Text",
          "value": "text"
        },
        {
          "name": "Video",
          "value": "video"
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "message"
          ],
          "operation": [
            "send"
          ]
        }
      },
      "visibilityRulesNormalized": [
        {
          "effect": "show",
          "key": "resource",
          "values": [
            "message"
          ]
        },
        {
          "effect": "show",
          "key": "operation",
          "values": [
            "send"
          ]
        }
      ]
    },
    {
      "name": "name",
      "displayName": "Name",
      "type": "fixedCollection",
      "default": {},
      "placeholder": "Add Parameter",
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "send"
          ],
          "messageType": [
            "contacts"
          ]
        }
      },
      "visibilityRulesNormalized": [
        {
          "effect": "show",
          "key": "operation",
          "values": [
            "send"
          ]
        },
        {
          "effect": "show",
          "key": "messageType",
          "values": [
            "contacts"
          ]
        }
      ]
    },
    {
      "name": "longitude",
      "displayName": "Longitude",
      "type": "number",
      "default": "",
      "required": true,
      "typeOptions": {
        "minValue": -180,
        "maxValue": 180
      },
      "displayOptions": {
        "show": {
          "resource": [
            "message"
          ],
          "operation": [
            "send"
          ],
          "messageType": [
            "location"
          ]
        }
      },
      "visibilityRulesNormalized": [
        {
          "effect": "show",
          "key": "resource",
          "values": [
            "message"
          ]
        },
        {
          "effect": "show",
          "key": "operation",
          "values": [
            "send"
          ]
        },
        {
          "effect": "show",
          "key": "messageType",
          "values": [
            "location"
          ]
        }
      ]
    },
    {
      "name": "latitude",
      "displayName": "Latitude",
      "type": "number",
      "default": "",
      "required": true,
      "typeOptions": {
        "minValue": -90,
        "maxValue": 90
      },
      "displayOptions": {
        "show": {
          "resource": [
            "message"
          ],
          "operation": [
            "send"
          ],
          "messageType": [
            "location"
          ]
        }
      },
      "visibilityRulesNormalized": [
        {
          "effect": "show",
          "key": "resource",
          "values": [
            "message"
          ]
        },
        {
          "effect": "show",
          "key": "operation",
          "values": [
            "send"
          ]
        },
        {
          "effect": "show",
          "key": "messageType",
          "values": [
            "location"
          ]
        }
      ]
    },
    {
      "name": "textBody",
      "displayName": "Text Body",
      "type": "string",
      "default": "",
      "description": "The body of the message (max 4096 characters)",
      "required": true,
      "displayOptions": {
        "show": {
          "resource": [
            "message"
          ],
          "operation": [
            "send"
          ],
          "messageType": [
            "text"
          ]
        }
      },
      "visibilityRulesNormalized": [
        {
          "effect": "show",
          "key": "resource",
          "values": [
            "message"
          ]
        },
        {
          "effect": "show",
          "key": "operation",
          "values": [
            "send"
          ]
        },
        {
          "effect": "show",
          "key": "messageType",
          "values": [
            "text"
          ]
        }
      ]
    },
    {
      "name": "mediaPath",
      "displayName": "Take Audio From",
      "type": "options",
      "default": "useMediaLink",
      "description": "Use a link, an ID, or n8n to upload an audio file",
      "options": [
        {
          "name": "Link",
          "value": "useMediaLink",
          "description": "WhatsApp will download the audio, saving you the step of uploading audio yourself"
        },
        {
          "name": "WhatsApp Media",
          "value": "useMediaId",
          "description": "If you have already uploaded the audio to WhatsApp"
        },
        {
          "name": "n8n",
          "value": "useMedian8n",
          "description": "Use binary data passed into this node"
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "send"
          ],
          "messageType": [
            "audio"
          ]
        }
      },
      "visibilityRulesNormalized": [
        {
          "effect": "show",
          "key": "operation",
          "values": [
            "send"
          ]
        },
        {
          "effect": "show",
          "key": "messageType",
          "values": [
            "audio"
          ]
        }
      ]
    },
    {
      "name": "mediaLink",
      "displayName": "Link",
      "type": "string",
      "default": "",
      "description": "Link of the media to be sent",
      "displayOptions": {
        "show": {
          "operation": [
            "send"
          ],
          "messageType": "mediaTypes",
          "mediaPath": [
            "useMediaLink"
          ]
        }
      },
      "visibilityRulesNormalized": [
        {
          "effect": "show",
          "key": "operation",
          "values": [
            "send"
          ]
        },
        {
          "effect": "show",
          "key": "messageType",
          "values": [
            "mediaTypes"
          ]
        },
        {
          "effect": "show",
          "key": "mediaPath",
          "values": [
            "useMediaLink"
          ]
        }
      ]
    },
    {
      "name": "mediaId",
      "displayName": "ID",
      "type": "string",
      "default": "",
      "description": "ID of the media to be sent",
      "displayOptions": {
        "show": {
          "operation": [
            "send"
          ],
          "messageType": "mediaTypes",
          "mediaPath": [
            "useMediaId"
          ]
        }
      },
      "visibilityRulesNormalized": [
        {
          "effect": "show",
          "key": "operation",
          "values": [
            "send"
          ]
        },
        {
          "effect": "show",
          "key": "messageType",
          "values": [
            "mediaTypes"
          ]
        },
        {
          "effect": "show",
          "key": "mediaPath",
          "values": [
            "useMediaId"
          ]
        }
      ]
    },
    {
      "name": "mediaFilename",
      "displayName": "Filename",
      "type": "string",
      "default": "",
      "description": "The name of the file (required when using a file ID)",
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "send"
          ],
          "messageType": [
            "document"
          ],
          "mediaPath": [
            "useMediaId"
          ]
        }
      },
      "visibilityRulesNormalized": [
        {
          "effect": "show",
          "key": "operation",
          "values": [
            "send"
          ]
        },
        {
          "effect": "show",
          "key": "messageType",
          "values": [
            "document"
          ]
        },
        {
          "effect": "show",
          "key": "mediaPath",
          "values": [
            "useMediaId"
          ]
        }
      ]
    },
    {
      "name": "template",
      "displayName": "Template",
      "type": "options",
      "default": "",
      "description": "Name of the template",
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "sendTemplate"
          ],
          "resource": [
            "message"
          ]
        }
      },
      "visibilityRulesNormalized": [
        {
          "effect": "show",
          "key": "operation",
          "values": [
            "sendTemplate"
          ]
        },
        {
          "effect": "show",
          "key": "resource",
          "values": [
            "message"
          ]
        }
      ]
    },
    {
      "name": "components",
      "displayName": "Components",
      "type": "fixedCollection",
      "default": {},
      "description": "Allows your customer to call a phone number and visit a website",
      "placeholder": "Add Component",
      "typeOptions": {
        "multipleValues": true
      },
      "displayOptions": {
        "show": {
          "operation": [
            "sendTemplate"
          ],
          "resource": [
            "message"
          ]
        }
      },
      "visibilityRulesNormalized": [
        {
          "effect": "show",
          "key": "operation",
          "values": [
            "sendTemplate"
          ]
        },
        {
          "effect": "show",
          "key": "resource",
          "values": [
            "message"
          ]
        }
      ]
    },
    {
      "name": "resource",
      "displayName": "Resource",
      "type": "options",
      "default": "message",
      "options": [
        {
          "name": "Message",
          "value": "message"
        },
        {
          "name": "Media",
          "value": "media"
        }
      ]
    }
  ],
  "credentialsConfig": [
    {
      "name": "resource",
      "required": false
    }
  ],
  "io": {
    "inputs": [
      "Main"
    ],
    "outputs": [
      "Main"
    ],
    "outputNames": [],
    "hints": {}
  },
  "wiring": {
    "role": "generic",
    "requires": [],
    "optional": [],
    "consumedBy": [],
    "consumes": [
      "Main"
    ],
    "produces": [
      "Main"
    ]
  },
  "inputHints": "Accepts inputs: Main",
  "outputHints": "Emits outputs: Main"
}